<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Understory â€“ Dashboard</title>
  <link rel="stylesheet" href="/dashboard.css" />
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar">
      <div class="brand">U</div>
      <nav class="sidebar-nav">
        <a class="nav-item active" href="/dashboard">
          <span class="icon">ğŸ </span>
          <span>Hjem</span>
        </a>
        <a class="nav-item" href="/kalender">
          <span class="icon">ğŸ“…</span>
          <span>Kalender</span>
        </a>
        <a class="nav-item" href="/Chat">
          <span class="icon">ğŸŸï¸</span>
          <span>Oplevelser</span>
        </a>
        <a class="nav-item" href="#">
          <span class="icon">ğŸ’³</span>
          <span>Salg</span>
        </a>
        <a class="nav-item" href="#">
          <span class="icon">ğŸ›ï¸</span>
          <span>Storefront</span>
          <span class="chevron">â€º</span>
        </a>
        <a class="nav-item" href="#">
          <span class="icon">ğŸŒ¿</span>
          <span>Grow</span>
        </a>
        <a class="nav-item connect" href="/Chat">
          <span class="icon">ğŸ”—</span>
          <span>Connect</span>
        </a>
      </nav>
      <div class="sidebar-footer">
        <a class="nav-item logout" href="/logout">
          <span class="icon">ğŸšª</span>
          <span>Log ud</span>
        </a>
      </div>
    </aside>

    <main class="content">
      <section class="profile">
        <div class="next-event-card profile-card">
          <div>
            <p class="muted">Velkommen tilbage</p>
            <h2 id="host-name">IndlÃ¦ser...</h2>
            <p id="host-email" class="subtle"></p>
            <p id="host-city" class="subtle"></p>
            <p id="host-bio" class="subtle"></p>
          </div>
          <div class="profile-actions">
            <h3>Din status</h3>
            <p>Hold dine profiloplysninger opdaterede.</p>
            <a class="btn btn-secondary profile-btn" href="/profile">Rediger profil</a>
          </div>
        </div>
      </section>

      <section class="next-event">
        <h2>Dit nÃ¦ste event</h2>
        <div class="next-event-card">
          <div>
            <p class="muted">Ingen planlagte events endnu.</p>
            <p class="subtle">TilfÃ¸j dit fÃ¸rste event for at komme i gang.</p>
          </div>
          <button class="btn btn-secondary">PlanlÃ¦g event</button>
        </div>
      </section>

      <section class="tips">
        <div class="tip-card">
          <h3>Tips til dig</h3>
          <p>FÃ¥ mere ud af dine oplevelser med guider og inspiration.</p>
        </div>
        <div class="tip-card">
          <h3>Sociale medier</h3>
          <p>Del billeder og historier for at engagere dit community.</p>
        </div>
        <div class="tip-card">
          <h3>Support</h3>
          <p>Har du brug for hjÃ¦lp? Kontakt vores team.</p>
        </div>
      </section>
    </main>
  </div>
  <script>
    (async function loadHost() {
      try {
        const res = await fetch('/api/me');
        if (!res.ok) throw new Error('Unauthorized');

        const host = await res.json();
        const fullName = [host.firstname, host.lastname].filter(Boolean).join(' ') || 'VÃ¦rt';

        document.getElementById('host-name').textContent = fullName;
        document.getElementById('host-email').textContent = host.email || '';
        document.getElementById('host-city').textContent = host.city ? `By: ${host.city}` : '';
        document.getElementById('host-bio').textContent = host.bio ? `Bio: ${host.bio}` : 'TilfÃ¸j en kort bio til din profil.';
      } catch (err) {
        console.error('Kunne ikke hente brugerdata', err);
        window.location.href = '/login';
      }
    })();
  </script>
</body>
</html>
